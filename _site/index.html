<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Unity Code Snippets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Unity-code-snippets</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/ladace/unity-code-snippets" class="btn">View on GitHub</a>
      <a href="https://github.com/ladace/unity-code-snippets/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ladace/unity-code-snippets/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1 id="code-snippets-for-unity">Code Snippets for Unity</h1>

<p><strong>To use the script, you must create a script that has the same name as the class name (which is the word after <code>class</code> word.</strong></p>

<p>For example,</p>

<p><code>csharp
public class MyClassName : MonoBehaviour {
    void Start () {
        Debug.Log("Hello, world");
    }
}
</code></p>

<p>You have to create a file called <code>MyClassName</code>, otherwise you can change the word after <code>class</code> to the name of the file.</p>

<p><strong>The file name must be the same as the class name.</strong></p>

<h3 id="press-button-to-enter-the-game-in-title-screen">Press button to enter the game in title screen</h3>

<p>Create an empty object in your title screen and attach this script.
Replace “Game” with whatever you name for your game level (in double quotes).
```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Title : MonoBehaviour {</p>

<pre><code>// Update is called once per frame
void Update () {
	if (Input.GetButtonDown ("Submit")) {
		Application.LoadLevel ("Game");
	}
} } ```
</code></pre>

<h3 id="activatedeactivate-a-object-on-clicking-a-collider">Activate/Deactivate a object on clicking a collider</h3>

<p>Attach the following script to a object that has at least one collider.
Assign <code>theObject</code> with the object you want to activate/deactivate.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Switch : MonoBehaviour {</p>

<pre><code>public GameObject theObject;

void OnMouseDown () {
	if (theObject.activeSelf)
		theObject.SetActive (false);
	else
		theObject.SetActive (true);
} } ```
</code></pre>

<h3 id="shooting">Shooting</h3>

<p>Assign a prefab as the archetype of bullets to the bullet field of this component.
The bullet prefab needs to have a Rigidbody on it.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Shooter : MonoBehaviour {</p>

<pre><code>public GameObject bulletPrefab;
public float bulletSpeed;
	
// Update is called once per frame
void Update () {
	if (Input.GetButtonDown ("Fire1")) {
		Vector3 direction = GetComponentInChildren&lt;Camera&gt;().transform.TransformDirection(Vector3.forward);
		GameObject obj = Instantiate (bulletPrefab, transform.position + direction * 2, Quaternion.identity) as GameObject;
		obj.GetComponent&lt;Rigidbody&gt;().velocity = bulletSpeed * direction;
	}
} }
</code></pre>

<p>```</p>

<h3 id="encounter">Encounter</h3>

<p>Attach this to an object with a trigger (collider with <code>Is Trigger</code> toggled on).
Assign an object to <code>blockerObject</code>. It will deactivate the object.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Encounter : MonoBehaviour {
	public GameObject blockerObject;</p>

<pre><code>void OnTriggerEnter (Collider collider) {
	if (collider.tag == "Player") {
		blockerObject.SetActive (false);
	}
} } ```
</code></pre>

<h3 id="object-that-keeps-moving-to-a-direction">Object that keeps moving to a direction</h3>

<p>It will check if the object has a Rigidbody. If so, use the Rigidbody component to move; otherwise just change the position of the Transform component.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class MovingAlong : MonoBehaviour {
	public Vector3 direction;</p>

<pre><code>void Update () {
	Rigidbody rd = GetComponent&lt;Rigidbody&gt; ();
	if (rd == null)
		transform.position += direction * Time.deltaTime;
	else
		GetComponent&lt;Rigidbody&gt; ().velocity = direction;
} }
</code></pre>

<p>```</p>

<h3 id="object-that-moves-to-another-object">object that moves to another object</h3>

<p>Assign the <code>target</code> value with the actual target of the movement.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class MoveTo : MonoBehaviour {</p>

<pre><code>public Transform target;
public float speed;

void Update () {
	transform.position = Vector3.MoveTowards (transform.position, target.position, speed * Time.deltaTime);
} }
</code></pre>

<p>```
### Killed by bullet</p>

<p>As soon as the object collides with a bullet tagged as “Bullet”, it is killed.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class FragileEnemy : MonoBehaviour {
	void OnCollisionEnter (Collision collision) {
		if (collision.collider.tag == “Bullet”)
			Destroy (gameObject);
	}
}
```</p>

<h3 id="touch-and-gameover">Touch and gameover</h3>

<p>As soon as the object touches the player, load gameover level.
You have to create a <strong>gameover scene</strong> and add it to your build settings.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Lethal : MonoBehaviour {
	public string gameoverSceneName;
	void OnCollisionEnter (Collision collision) {
		if (collision.collider.tag == “Player”) {
			Application.LoadLevel (gameoverSceneName);
		}
	}
}
```</p>

<h3 id="spawner">Spawner</h3>

<p>Spawns an object from <code>archetype</code> Prefab every <code>interval</code> seconds, at a random position inside a circle of <code>radius</code>.</p>

<p>```csharp
using UnityEngine;
using System.Collections;</p>

<p>public class Spawner : MonoBehaviour {</p>

<pre><code>public GameObject archetype;
public float interval;
public float range;

void Start () {
	StartCoroutine (SpawnRoutine ());
}

IEnumerator SpawnRoutine () {
	while (true) {
		yield return new WaitForSeconds (interval);
		Instantiate (archetype, transform.position + Random.insideUnitSphere * range, Quaternion.identity);
	}
} }
</code></pre>

<p>```</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ladace/unity-code-snippets">Unity-code-snippets</a> is maintained by <a href="https://github.com/ladace">ladace</a>.</span>

        <span class="site-footer-credits"><a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
