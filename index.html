<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Unity-code-snippets by ladace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Unity-code-snippets</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/ladace/unity-code-snippets" class="btn">View on GitHub</a>
      <a href="https://github.com/ladace/unity-code-snippets/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ladace/unity-code-snippets/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="code-snippets-for-unity" class="anchor" href="#code-snippets-for-unity" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code Snippets for Unity</h1>

<h3>
<a id="activatedeactivate-a-object-on-clicking-a-collider" class="anchor" href="#activatedeactivate-a-object-on-clicking-a-collider" aria-hidden="true"><span class="octicon octicon-link"></span></a>Activate/Deactivate a object on clicking a collider</h3>

<p>Attach the following script to a object that has at least one collider.
Assign <code>theObject</code> with the object you want to activate/deactivate.</p>

<div class="highlight highlight-csharp"><pre><span class="pl-k">using</span> UnityEngine;
<span class="pl-k">using</span> System.Collections;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Switch</span> : <span class="pl-k">MonoBehaviour</span> {

    <span class="pl-k">public</span> GameObject theObject;

    <span class="pl-k">void</span> <span class="pl-en">OnMouseDown</span> () {
        <span class="pl-k">if</span> (theObject.activeSelf)
            theObject.SetActive (<span class="pl-c1">false</span>);
        <span class="pl-k">else</span>
            theObject.SetActive (<span class="pl-c1">true</span>);
    }
}</pre></div>

<h3>
<a id="shooting" class="anchor" href="#shooting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Shooting</h3>

<p>Assign a prefab as the archetype of bullets to the bullet field of this component.
The bullet prefab needs to have a Rigidbody on it.</p>

<div class="highlight highlight-csharp"><pre><span class="pl-k">using</span> UnityEngine;
<span class="pl-k">using</span> System.Collections;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Shooter</span> : <span class="pl-k">MonoBehaviour</span> {

    <span class="pl-k">public</span> GameObject bulletPrefab;
    <span class="pl-k">public</span> <span class="pl-k">float</span> bulletSpeed;

    <span class="pl-c">// Update is called once per frame</span>
    <span class="pl-k">void</span> <span class="pl-en">Update</span> () {
        <span class="pl-k">if</span> (Input.GetButtonDown (<span class="pl-s"><span class="pl-pds">"</span>Fire1<span class="pl-pds">"</span></span>)) {
            Vector3 direction = GetComponentInChildren&lt;Camera&gt;().transform.TransformDirection(Vector3.forward);
            GameObject obj = Instantiate (bulletPrefab, transform.position + direction * <span class="pl-c1">2</span>, Quaternion.identity) <span class="pl-k">as</span> GameObject;
            obj.GetComponent&lt;Rigidbody&gt;().velocity = bulletSpeed * direction;
        }
    }
}
</pre></div>

<h3>
<a id="encounter" class="anchor" href="#encounter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Encounter</h3>

<p>Attach this to an object with a trigger (collider with <code>Is Trigger</code> toggled on).
Assign an object to <code>blockerObject</code>. It will deactivate the object.</p>

<div class="highlight highlight-csharp"><pre><span class="pl-k">using</span> UnityEngine;
<span class="pl-k">using</span> System.Collections;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Encounter</span> : <span class="pl-k">MonoBehaviour</span> {
    <span class="pl-k">public</span> GameObject blockerObject;

    <span class="pl-k">void</span> <span class="pl-en">OnTriggerEnter</span> (<span class="pl-k">Collider</span> <span class="pl-smi">collider</span>) {
        blockerObject.SetActive (<span class="pl-c1">false</span>);
    }
}</pre></div>

<h3>
<a id="object-that-keeps-moving-to-a-direction" class="anchor" href="#object-that-keeps-moving-to-a-direction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Object that keeps moving to a direction</h3>

<p>It will check if the object has a Rigidbody. If so, use the Rigidbody component to move; otherwise just change the position of the Transform component.</p>

<div class="highlight highlight-csharp"><pre><span class="pl-k">using</span> UnityEngine;
<span class="pl-k">using</span> System.Collections;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MovingAlong</span> : <span class="pl-k">MonoBehaviour</span> {
    <span class="pl-k">public</span> Vector3 direction;

    <span class="pl-k">void</span> <span class="pl-en">Update</span> () {
        Rigidbody rd = GetComponent&lt;Rigidbody&gt; ();
        <span class="pl-k">if</span> (rd == <span class="pl-c1">null</span>)
            transform.position += direction * Time.deltaTime;
        <span class="pl-k">else</span>
            GetComponent&lt;Rigidbody&gt; ().velocity = direction;
    }
}
</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ladace/unity-code-snippets">Unity-code-snippets</a> is maintained by <a href="https://github.com/ladace">ladace</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

